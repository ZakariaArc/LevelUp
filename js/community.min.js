document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".like-btn");t.forEach(t=>{t.addEventListener("click",()=>{const e=parseInt(t.getAttribute("data-likes")),o=t.classList.contains("liked");o?(t.setAttribute("data-likes",e-1),t.textContent=`${e-1} Likes`,t.classList.remove("liked")):(t.setAttribute("data-likes",e+1),t.textContent=`${e+1} Likes`,t.classList.add("liked"))})});const e=document.getElementById("poll-form");let o=null;const n=document.querySelectorAll(".poll-option");n.forEach(t=>{const e=t.querySelector(".vote-count"),o=t.querySelector(".progress"),r=parseInt(t.getAttribute("data-votes")),l=Array.from(n).reduce((t,e)=>t+parseInt(e.getAttribute("data-votes")),0);e.textContent=`${r} vote${1!==r?"s":""}`;const s=r/l*200||0;o.style.width=`${s}%`}),e.addEventListener("submit",t=>{t.preventDefault();const n=document.querySelector('input[name="poll"]:checked');if(n){const t=n.closest(".poll-option"),r=t.querySelector(".progress"),l=t.querySelector(".vote-count");let s=parseInt(t.getAttribute("data-votes"));if(o===n)return void alert("You've already voted for this option!");if(o){const t=o.closest(".poll-option"),e=t.querySelector(".vote-count"),n=t.querySelector(".progress");let r=parseInt(t.getAttribute("data-votes"));r--,t.setAttribute("data-votes",r),e.textContent=`${r} vote${1!==r?"s":""}`;const l=Array.from(document.querySelectorAll(".poll-option")).reduce((t,e)=>t+parseInt(e.getAttribute("data-votes")),0),s=r/l*200||0;n.style.width=`${s}%`}s++,t.setAttribute("data-votes",s),l.textContent=`${s} vote${1!==s?"s":""}`;const a=Array.from(document.querySelectorAll(".poll-option")).reduce((t,e)=>t+parseInt(e.getAttribute("data-votes")),0),c=s/a*200;r.style.width=`${c}%`,o=n,e.reset()}});const r=document.getElementById("chat-form"),l=document.getElementById("chat-messages"),s=document.getElementById("chat-message");r.addEventListener("submit",t=>{if(t.preventDefault(),""!==s.value.trim()){const t=document.createElement("p");t.textContent=`You: ${s.value}`,l.appendChild(t),s.value="",l.scrollTop=l.scrollHeight}});const a=document.getElementById("feedback-form");a.addEventListener("submit",t=>{t.preventDefault();const e=document.getElementById("name").value.trim(),o=document.getElementById("email").value.trim(),n=document.getElementById("message").value.trim();e&&o&&n?(alert("Thank you for your feedback!"),a.reset()):alert("Please fill out all fields correctly before submitting.")})});